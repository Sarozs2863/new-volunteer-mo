(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2def9083"],{"139e":function(t,e,a){},"16c0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"blue-area"},[a("van-notice-bar",{attrs:{"left-icon":"volume-o",text:t.notice}}),a("van-row",{staticClass:"d-flex jc-end"},[a("van-icon",{staticClass:"m-10 ",attrs:{name:"question-o",size:"23px",color:"#fff"},on:{click:function(e){t.guideDialogShow=!0}}})],1),a("van-dialog",{attrs:{title:"用户反馈","confirm-button-color":"#006eff"},model:{value:t.guideDialogShow,callback:function(e){t.guideDialogShow=e},expression:"guideDialogShow"}},[a("div",{staticClass:"feedback"},[t._v(" "+t._s(t.notice)+" ")])]),a("UserInfo",{staticClass:"user-info"})],1),a("ValidCodeCard",{staticClass:"card main-card d-flex jc-center mt-2"}),a("FuncArea",{staticClass:"func-area",staticStyle:{"margin-top":"15px"}}),a("ActList"),a("copyright"),a("van-dialog",{attrs:{title:"用户登录","show-cancel-button":"",confirmButtonColor:"#1989FA"},on:{confirm:t.webLogin},model:{value:t.loginDialogShow,callback:function(e){t.loginDialogShow=e},expression:"loginDialogShow"}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("van-field",{attrs:{label:"学号",placeholder:"请输入学号"},model:{value:t.stuNo,callback:function(e){t.stuNo=e},expression:"stuNo"}}),a("van-field",{attrs:{label:"密码",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)])],1)},r=[],o=a("1da1"),s=a("5530"),i=(a("96cf"),a("ac1f"),a("5319"),a("2f62")),c=a("c24f"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"act_list_card"},[a("van-row",{staticClass:"nav",attrs:{type:"flex",justify:"space-between"}},[a("van-col",{staticClass:"left"},[a("van-col",[a("van-icon",{staticClass:"icon_list",attrs:{name:"todo-list-o"}})],1),a("van-col",{staticClass:"title"},[t._v("近期活动")])],1),a("van-col",{staticClass:"right",on:{click:t.toAllActList}},[a("van-col",{staticClass:"title"},[t._v("查看全部活动")]),a("van-col",[a("van-icon",{staticClass:"icon_arrow",attrs:{name:"arrow"}})],1)],1)],1),a("van-skeleton",{staticClass:"skeleton2",attrs:{row:3,loading:!1,animate:!1}},[t.$store.state.recentActs.length>0?a("ActCard",{attrs:{actList:t.$store.state.recentActs}}):a("van-empty",{staticClass:"null_list",attrs:{description:"你好像还没有参加过志愿活动哦！"}})],1)],1)},u=[],d=a("bee1"),f={name:"ActList",components:{ActCard:d["a"]},data:function(){return{loading:!0}},methods:{toAllActList:function(){this.$router.push("/actList")}}},v=f,m=(a("6a8f"),a("2877")),p=Object(m["a"])(v,l,u,!1,null,"56106694",null),h=p.exports,g=a("8053"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-row",{staticClass:"mt-2"},[a("van-password-input",{attrs:{info:"在上方输入正确的认证码，即可提交工时",value:t.verifyCode,mask:!1,gutter:10,length:6,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),a("div",{staticClass:"d-flex jc-center mt-1"},[a("van-button",{staticClass:"mt-1 submit-btn ",attrs:{type:"info",block:"",disabled:t.verifyCode.length<6},on:{click:function(e){return t.commitVerifyCode()}}},[t._v("提交工时")])],1),a("van-number-keyboard",{attrs:{maxlength:6,show:t.showKeyboard},on:{blur:function(e){t.showKeyboard=!1}},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}})],1)],1)},w=[],y=a("0c6d");function k(t){return Object(y["a"])({url:"/volunteer/public/timetableInfo/",method:"GET",params:{randomString:t}})}var C={data:function(){return{verifyCode:"",showKeyboard:!1}},methods:{commitVerifyCode:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k(t.verifyCode);case 2:if(a=e.sent,null!==a.data){e.next=6;break}return t.$toast({message:"六位随机码无效！随机码错误或者过期"}),e.abrupt("return");case 6:n=a.data.activityId,r=a.data.volunteerCheckId,o=a.data.activityDate,s=a.data.activityName,i=a.data.volunteerTimes,c=a.data.crater,t.$router.push({name:"ApproveAct",params:{activityId:n,sheetId:r,activityDate:o,randomString:t.verifyCode,volunteerTimes:i,crater:c,activityName:s}});case 13:case"end":return e.stop()}}),e)})))()}}},x=C,_=(a("4a4f"),Object(m["a"])(x,b,w,!1,null,null,null)),j=_.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-row",{staticClass:"d-flex jc-center "},[a("van-image",{attrs:{round:"",width:"2.5rem",height:"2.5rem",src:t.$store.state.gender}})],1),a("van-row",{staticStyle:{"margin-top":"5px"},attrs:{type:"flex",justify:"center"}},[a("span",{staticClass:" fs-xxs text-background"},[t._v(t._s(t.$store.state.userInfo.studentName))]),a("div",{staticClass:"user-statu"},[a("van-tag",{attrs:{type:t.$store.state.creditTag,size:"large "}},[t._v(t._s(t.$store.state.creditLevel))])],1)]),a("van-row",{staticClass:"fs-xxxs d-flex jc-center",staticStyle:{"line-height":"20px"},attrs:{gutter:"20"}},[a("van-col",{staticClass:"stu_college text-background"},[t._v(t._s(t.$store.state.userInfo.collegeName))]),a("van-col",{staticClass:"stu_num text-background"},[t._v(t._s(t.$store.state.userInfo.studentNum))])],1)],1)},O=[],A={data:function(){return{}},mounted:function(){}},P=A,S=(a("a370"),Object(m["a"])(P,$,O,!1,null,null,null)),D=S.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-grid",{attrs:{"column-num":3,clickable:""}},[a("van-grid-item",{key:1,attrs:{to:"/actrecruit",icon:"todo-list-o",text:"活动招募"}}),a("van-grid-item",{key:2,attrs:{to:"/creditlevel",icon:"smile-o",text:"信用等级"}}),a("van-grid-item",{key:3,attrs:{to:"/mytimes",icon:"notes-o",text:"工时概览"}}),a("van-grid-item",{key:4,attrs:{to:"/report",icon:"warn-o",text:"违规举报"}}),a("van-grid-item",{key:5,attrs:{to:"/reportlist",icon:"eye-o",text:"举报记录"}}),a("van-grid-item",{key:6,attrs:{to:"",icon:"edit",text:"活动策划"},on:{click:t.checkIt}})],1)],1)},L=[],N={data:function(){return{}},methods:{checkIt:function(){this.$toast("该功能暂未开放!\n如有需要请前往管理端使用！")}}},T=N,q=Object(m["a"])(T,I,L,!1,null,null,null),E=q.exports,R={name:"HomePage",components:{ValidCodeCard:j,UserInfo:D,FuncArea:E,ActList:h,copyright:g["a"]},data:function(){return{guideDialogShow:!1,notice:"用户反馈qq群：926518229。若工时信息与志愿者证不对应，请联系该活动的活动负责人或向院青队咨询",loginDialogShow:!1,stuNo:"",password:""}},methods:Object(s["a"])({testPlatform:function(){return this.$cookies.get("cookie")?"android":this.$route.query.platform?"mp"===this.$route.query.platform?"mp":"ios"===this.$route.query.platform&&"ios":void 0},getPlatformToken:function(){var t=this.testPlatform();if(!t)return!1;switch(this.$store.commit("setPlatform",t),t){case"android":this.$store.commit("setPlatformToken",this.$cookies.get("cookie"));break;case"mp":this.$route.query.token?this.$store.commit("setPlatformToken",this.$route.query.token):this.$router.replace("/404");break;case"ios":this.$route.query.token?this.$store.commit("setPlatformToken",this.$route.query.token):this.$router.replace("/404");break}},init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.getPlatformToken()){e.next=4;break}t.loginDialogShow=!0,e.next=14;break;case 4:return e.next=6,t.setVolunteerToken();case 6:return e.next=8,t.setUserInfo();case 8:return e.next=10,t.setHourView();case 10:return e.next=12,t.setRecentActs();case 12:return e.next=14,t.setCreditLevel();case 14:case"end":return e.stop()}}),e)})))()},webLogin:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={stuNum:t.stuNo,jwcPwd:t.password},e.next=3,Object(c["f"])(a);case 3:n=e.sent,1e4==n.code?document.cookie="cookie="+n.data:t.$toast(n.msg),t.init();case 6:case"end":return e.stop()}}),e)})))()}},Object(i["b"])(["setVolunteerToken","setUserInfo","setHourView","setRecentActs","setCreditLevel"])),mounted:function(){this.init()}},V=R,z=(a("a7a1"),Object(m["a"])(V,n,r,!1,null,"757a050b",null));e["default"]=z.exports},"3b08":function(t,e,a){"use strict";a("7601")},4663:function(t,e,a){},"46c9":function(t,e,a){},"4a4f":function(t,e,a){"use strict";a("46c9")},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var n=a("ade3");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"6a8f":function(t,e,a){"use strict";a("f4f9")},7601:function(t,e,a){},8053:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyright"},[a("van-row",[t._v("领航工作室出品")]),a("van-row",[t._v("微信公众号：武科大助手")])],1)},r=[],o={name:"Copyright",data:function(){return{testCookie:""}},mounted:function(){this.getCookie()},methods:{getCookie:function(){this.testCookie=this.$cookies.get("cookie")}}},s=o,i=(a("3b08"),a("2877")),c=Object(i["a"])(s,n,r,!1,null,null,null);e["a"]=c.exports},"98fa":function(t,e,a){"use strict";a("c5e5")},a370:function(t,e,a){"use strict";a("139e")},a7a1:function(t,e,a){"use strict";a("4663")},ade3:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return n}))},bee1:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.actList,(function(e,n){return a("van-row",{key:n,staticClass:"act_card",attrs:{type:"flex",justify:"space-around"}},[a("van-col",{staticClass:"left",attrs:{span:"13"}},[a("van-row",{staticClass:"act_name"},[t._v(t._s(e.activityName))]),a("div",{staticClass:"date_crater"},[a("div",{staticClass:"date"},[t._v(t._s(e.activityDate))]),a("div",{staticClass:"crater"},[t._v(t._s(e.crater))])]),a("van-row",{staticClass:"organization"},[t._v(t._s(e.organizationName))])],1),a("van-col",{staticClass:"right"},[a("van-row",{staticClass:"hour"},[t._v(t._s(parseFloat(e.volunteerTime).toFixed(1))+"h")]),a("van-row",[5==e.volunteerStatus?a("van-tag",{attrs:{type:"primary ",size:"large"}},[t._v("已认证")]):a("van-tag",{attrs:{type:"warning",size:"large"}},[t._v("未认证")])],1)],1)],1)})),1)},r=[],o={name:"ActCard",props:["actList"],computed:{},methods:{},created:function(){}},s=o,i=(a("98fa"),a("2877")),c=Object(i["a"])(s,n,r,!1,null,"628db017",null);e["a"]=c.exports},c5e5:function(t,e,a){},f4f9:function(t,e,a){}}]);