(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-746bf0e5"],{1240:function(t,e,a){},"16c0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"blue-area"},[e("van-notice-bar",{attrs:{"left-icon":"volume-o",text:t.notice}}),e("van-row",{staticClass:"d-flex jc-end"},[e("van-icon",{staticClass:"m-10",attrs:{name:"question-o",size:"23px",color:"#fff"},on:{click:function(e){t.guideDialogShow=!0}}})],1),e("van-dialog",{attrs:{title:"用户反馈","confirm-button-color":"#006eff"},model:{value:t.guideDialogShow,callback:function(e){t.guideDialogShow=e},expression:"guideDialogShow"}},[e("div",{staticClass:"feedback"},[t._v(" "+t._s(t.notice)+" ")])]),e("UserInfo",{staticClass:"user-info"})],1),e("ValidCodeCard",{staticClass:"card main-card d-flex jc-center mt-2"}),e("FuncArea",{staticClass:"func-area",staticStyle:{"margin-top":"15px"}}),e("ActList"),e("copyright"),e("van-dialog",{attrs:{title:"用户登录","show-cancel-button":"",confirmButtonColor:"#1989FA"},on:{confirm:t.webLogin},model:{value:t.loginDialogShow,callback:function(e){t.loginDialogShow=e},expression:"loginDialogShow"}},[e("div",{staticStyle:{"margin-top":"20px"}},[e("van-field",{attrs:{label:"学号",placeholder:"请输入学号"},model:{value:t.stuNo,callback:function(e){t.stuNo=e},expression:"stuNo"}}),e("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]),e("van-dialog",{attrs:{confirmButtonColor:"#1989FA"},model:{value:t.showQRCode,callback:function(e){t.showQRCode=e},expression:"showQRCode"}},[e("div",{staticClass:"QR_code"},[e("div",{staticClass:"tips_intro"},[e("div",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{width:"100",height:"100",src:a("a2e2")}})]),e("div",{staticClass:"intro_text"},[t._v("        武汉科技大学青年志愿者服务总队欢迎各位同学的加入，我校志愿者一直秉持着奉献、友爱、互助、进步的志愿精神！“志”同道合，“愿”你同行。欢迎扫码关注下列总队官方账号，期待和你的志愿之旅！ ")]),e("div",{staticClass:"tips_save"},[t._v("截图至对应APP扫描")])]),e("div",{staticClass:"tips_codes"},[e("div",{staticClass:"code_items"},[e("img",{attrs:{width:"120",height:"120",src:a("3736")}}),e("div",{staticStyle:{"margin-top":"-10px"}},[e("span",{staticClass:"code_type"},[t._v("微信")])])]),e("div",{staticClass:"code_items"},[e("img",{attrs:{width:"110",height:"110",src:a("91d4")}}),e("div",[e("span",{staticClass:"code_type"},[t._v("QQ")])])])])])])],1)},o=[],n=a("758a"),i=a("2aab"),r=a("94ad"),c=(a("aa48"),a("3446"),a("7736")),l=a("c24f"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"act_list_card"},[e("van-row",{staticClass:"nav",attrs:{type:"flex",justify:"space-between"}},[e("van-col",{staticClass:"left"},[e("van-col",[e("van-icon",{staticClass:"icon_list",attrs:{name:"todo-list-o"}})],1),e("van-col",{staticClass:"title"},[t._v("近期活动")])],1),e("van-col",{staticClass:"right",on:{click:t.toAllActList}},[e("van-col",{staticClass:"title"},[t._v("查看全部活动")]),e("van-col",[e("van-icon",{staticClass:"icon_arrow",attrs:{name:"arrow"}})],1)],1)],1),e("van-skeleton",{staticClass:"skeleton2",attrs:{row:3,loading:!1,animate:!1}},[t.$store.state.recentActs.length>0?e("ActCard",{attrs:{actList:t.$store.state.recentActs}}):e("van-empty",{staticClass:"null_list",attrs:{description:"你好像还没有参加过志愿活动哦！"}})],1)],1)},d=[],f=(a("4e3f"),a("bee1")),v={name:"ActList",components:{ActCard:f["a"]},data:function(){return{loading:!0}},methods:{toAllActList:function(){this.$router.push("/actList")}}},m=v,p=(a("c498"),a("0b56")),h=Object(p["a"])(m,u,d,!1,null,"56106694",null),g=h.exports,b=a("8053"),w=function(){var t=this,e=t._self._c;return e("div",[e("van-row",{staticClass:"mt-2"},[e("van-password-input",{attrs:{info:"在上方输入正确的认证码，即可提交工时",value:t.verifyCode,mask:!1,gutter:10,length:6,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),e("div",{staticClass:"d-flex jc-center mt-1"},[e("van-button",{staticClass:"mt-1 submit-btn",attrs:{type:"info",block:"",disabled:t.verifyCode.length<6},on:{click:function(e){return t.commitVerifyCode()}}},[t._v("提交工时")])],1),e("van-number-keyboard",{attrs:{maxlength:6,show:t.showKeyboard},on:{blur:function(e){t.showKeyboard=!1}},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}})],1)],1)},y=[],C=a("0c6d");function k(t){return Object(C["a"])({url:"/volunteer/public/timetableInfo/",method:"GET",params:{randomString:t}})}var _={data:function(){return{verifyCode:"",showKeyboard:!1}},methods:{commitVerifyCode:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var a,s,o,i,r,c,l;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k(t.verifyCode);case 2:if(a=e.sent,null!==a.data){e.next=6;break}return t.$toast({message:"六位随机码无效！随机码错误或者过期"}),e.abrupt("return");case 6:s=a.data.activityId,o=a.data.volunteerCheckId,i=a.data.activityDate,r=a.data.activityName,c=a.data.volunteerTimes,l=a.data.crater,t.$router.push({name:"ApproveAct",params:{activityId:s,sheetId:o,activityDate:i,randomString:t.verifyCode,volunteerTimes:c,crater:l,activityName:r}});case 13:case"end":return e.stop()}}),e)})))()}}},x=_,j=(a("5f68"),Object(p["a"])(x,w,y,!1,null,null,null)),O=j.exports,$=function(){var t=this,e=t._self._c;return e("div",[e("van-row",{staticClass:"d-flex jc-center"},[e("van-image",{attrs:{round:"",width:"2.5rem",height:"2.5rem",src:t.$store.state.gender},on:{click:t.jumpToUserInfo}})],1),e("van-row",{staticStyle:{"margin-top":"5px"},attrs:{type:"flex",justify:"center"}},[e("span",{staticClass:"fs-xxs text-background"},[t._v(t._s(t.$store.state.userInfo.studentName))]),e("div",{staticClass:"user-statu"},[e("van-tag",{attrs:{type:t.$store.state.creditTag,size:"large "}},[t._v(t._s(t.$store.state.creditLevel))])],1)]),e("van-row",{staticClass:"fs-xxxs d-flex jc-center",staticStyle:{"line-height":"20px"},attrs:{gutter:"20"}},[e("van-col",{staticClass:"stu_college text-background"},[t._v(t._s(t.$store.state.userInfo.collegeName))]),e("van-col",{staticClass:"stu_num text-background"},[t._v(t._s(t.$store.state.userInfo.studentNum))])],1)],1)},S=[],A={data:function(){return{}},mounted:function(){},methods:{jumpToUserInfo:function(){this.$store.state.volunteerToken?this.$router.push("/user"):this.$toast("未检测到用户信息！")}}},P=A,D=(a("e693"),Object(p["a"])(P,$,S,!1,null,null,null)),I=D.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"z-index":"-1"}},[e("van-grid",{attrs:{"column-num":3,clickable:"",border:!1}},[e("van-grid-item",{key:1,attrs:{to:"/actrecruit",icon:"todo-list-o",text:"活动招募"}}),e("van-grid-item",{key:2,attrs:{to:"/creditlevel",icon:"smile-o",text:"信用等级"}}),e("van-grid-item",{key:3,attrs:{to:"/mytimes",icon:"notes-o",text:"工时概览"}}),e("van-grid-item",{key:4,attrs:{to:"/report",icon:"warn-o",text:"违规举报"}}),e("van-grid-item",{key:5,attrs:{to:"/reportlist",icon:"eye-o",text:"举报记录"}}),e("van-grid-item",{key:6,attrs:{to:"",icon:"edit",text:"活动策划"},on:{click:t.checkIt}})],1)],1)},L=[],N={data:function(){return{}},methods:{checkIt:function(){this.$toast("该功能暂未开放!\n如有需要请前往管理端使用！")}}},Q=N,q=Object(p["a"])(Q,T,L,!1,null,null,null),z=q.exports,R={name:"HomePage",components:{ValidCodeCard:O,UserInfo:I,FuncArea:z,ActList:g,copyright:b["a"]},data:function(){return{guideDialogShow:!1,notice:"用户反馈QQ群：926518229。若工时信息与志愿者证不对应，请联系该活动的活动负责人或向院青队咨询",loginDialogShow:!1,stuNo:"",password:"",userData:{},showQRCode:!1}},activated:function(){this.verifyCode="",this.userData=this.$store.state.userInfo},methods:Object(r["a"])({testPlatform:function(){return this.$cookies.get("cookie")?"android":this.$route.query.platform?"mp"===this.$route.query.platform?"mp":"ios"===this.$route.query.platform&&"ios":void 0},getPlatformToken:function(){var t=this.testPlatform();if(!t)return!1;switch(this.$store.commit("setPlatform",t),t){case"android":this.$store.commit("setPlatformToken",this.$cookies.get("cookie"));break;case"mp":this.$route.query.token?this.$store.commit("setPlatformToken",this.$route.query.token):this.$router.replace("/404");break;case"ios":this.$route.query.token?this.$store.commit("setPlatformToken",this.$route.query.token):this.$router.replace("/404");break}},init:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.getPlatformToken()){e.next=4;break}t.loginDialogShow=!0,e.next=15;break;case 4:return e.next=6,t.setVolunteerToken();case 6:return e.next=8,t.setUserInfo();case 8:return t.$store.state.userInfo.phone||(t.showQRCode=!0),e.next=11,t.setHourView();case 11:return e.next=13,t.setRecentActs();case 13:return e.next=15,t.setCreditLevel();case 15:case"end":return e.stop()}}),e)})))()},webLogin:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var a,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={stuNum:t.stuNo,jwcPwd:t.password},e.next=3,Object(l["i"])(a);case 3:s=e.sent,1e4==s.code?document.cookie="cookie="+s.data:t.$toast(s.msg),t.init();case 6:case"end":return e.stop()}}),e)})))()}},Object(c["b"])(["setVolunteerToken","setUserInfo","setHourView","setRecentActs","setCreditLevel"])),mounted:function(){this.init(),this.showQRCode=!0}},V=R,F=(a("210a"),Object(p["a"])(V,s,o,!1,null,"2cea9f00",null));e["default"]=F.exports},"210a":function(t,e,a){"use strict";a("6757")},"323f":function(t,e,a){},3736:function(t,e,a){t.exports=a.p+"static/img/zdwx.17f74802.jpg"},3788:function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return s}))},"49b7":function(t,e,a){},"4f9c":function(t,e,a){},"5f68":function(t,e,a){"use strict";a("1240")},6757:function(t,e,a){},8053:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"copyright"},[e("van-row",[t._v("领航工作室出品")]),e("van-row",[t._v("微信公众号：武科大助手")])],1)},o=[],n={name:"Copyright",data:function(){return{testCookie:""}},mounted:function(){this.getCookie()},methods:{getCookie:function(){this.testCookie=this.$cookies.get("cookie")}}},i=n,r=(a("df0b"),a("0b56")),c=Object(r["a"])(i,s,o,!1,null,null,null);e["a"]=c.exports},"91d4":function(t,e,a){t.exports=a.p+"static/img/zdqq.7c02c4fe.jpg"},"94ad":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("dad5"),a("6073"),a("cd5d"),a("c5cb"),a("0ffc"),a("4e3f"),a("08c7"),a("9aed");var s=a("3788");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},a2e2:function(t,e,a){t.exports=a.p+"static/img/groupflag.d58cdbe6.png"},b72a:function(t,e,a){},bee1:function(t,e,a){"use strict";a("1376");var s=function(){var t=this,e=t._self._c;return e("div",t._l(t.actList,(function(a,s){return e("van-row",{key:s,staticClass:"act_card",attrs:{type:"flex",justify:"space-around"}},[e("van-col",{staticClass:"left",attrs:{span:"13"}},[e("van-row",{staticClass:"act_name"},[t._v(t._s(a.activityName))]),e("div",{staticClass:"date_crater"},[e("div",{staticClass:"date"},[t._v(t._s(a.activityDate))]),e("div",{staticClass:"crater"},[t._v(t._s(a.crater))])]),e("van-row",{staticClass:"organization"},[t._v(t._s(a.organizationName))])],1),e("van-col",{staticClass:"right"},[e("van-row",{staticClass:"hour"},[t._v(t._s(parseFloat(a.volunteerTime).toFixed(1))+"h")]),e("van-row",[5==a.volunteerStatus?e("van-tag",{attrs:{type:"primary ",size:"large"}},[t._v("已认证")]):e("van-tag",{attrs:{type:"warning",size:"large"}},[t._v("未认证")])],1)],1)],1)})),1)},o=[],n={name:"ActCard",props:["actList"],computed:{},methods:{},created:function(){}},i=n,r=(a("e308"),a("0b56")),c=Object(r["a"])(i,s,o,!1,null,"628db017",null);e["a"]=c.exports},c498:function(t,e,a){"use strict";a("b72a")},df0b:function(t,e,a){"use strict";a("4f9c")},e308:function(t,e,a){"use strict";a("49b7")},e693:function(t,e,a){"use strict";a("323f")}}]);